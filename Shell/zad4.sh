# Да се напише SHELL скрипта која ги листа сите датотеки од тековниот директориум. Потоа, имињата
# на оние датотеки кои што имаат помалку од 1000 зборови ги праќа како аргументи од командна линија
# на повик од Python скриптата (сите имиња ги праќа во еден повик). За оние датотеки кои што имаат 
# повеќе од 1000 зборови, креира посебен повик и нивните имиња ги праќа како еден аргумент од
# командна линија. 

#!/bin/bash

small_files=()
# Креира празна листа (низа) која ќе ги чува имињата на датотеки со помалку од 1000 зборови.

large_files=()
# Креира празна листа (низа) која ќе ги чува имињата на датотеки со 1000 или повеќе зборови.

for file in *; do
# Почнува циклус кој минува низ сите фајлови и директориуми во тековниот директориум.

    if [[ -f "$file" ]]; then
    # Проверува дали моменталниот елемент е датотека (не директориум).

        word_count=$(wc -w < "$file")
        # Пресметува колку зборови има во датотеката, користејќи wc -w.
        # '<' го редиректира фајлот како влез за wc.
        # Резултатот се зачувува во променливата word_count.

        if [[ $word_count -lt 1000 ]]; then
        # Ако бројот на зборови е помал од 1000,

            small_files+=("$file") 
            # Додава ја датотеката во низата small_files.

        else
        # Ако бројот на зборови е 1000 или повеќе,

            large_files+=("$file") 
            # Додава ја датотеката во низата large_files.

        fi
        # Крај на if проверката за бројот на зборови.

    fi
    # Крај на проверката дали е датотека.

done
# Крај на циклусот за сите елементи во директориумот.

if [[ ${#small_files[@]} -gt 0 ]]; then
# Ако има барем една датотека во низата small_files (проверка на должина на низата),

    python3 zad4.py "${small_files[@]}"
    # Повик на Python скрипта zad4.py со сите имиња од small_files како поединечни аргументи.

fi
# Крај на условот за мала листа.

if [[ ${#large_files[@]} -gt 0 ]]; then
# Ако има барем една датотека во низата large_files,

    python3 zad4.py "${large_files[@]}"
    # Повик на Python скрипта zad4.py со сите имиња од large_files како поединечни аргументи.

fi
# Крај на условот за голема листа.
